
R version 3.4.4 (2018-03-15) -- "Someone to Lean On"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(NewmanOmics)
> 
> csvfile <- system.file("extdata", "GSE6631_Head&NeckSq.csv",
+                        package="NewmanOmics")
> HN <- as.matrix(read.csv(csvfile, row.names=1))
> HN <- log2((1/19)*median(HN) + HN)
> 
> set.seed(12345)
> picked <- sample(nrow(HN), 2000)
> bankMatrix <- HN[picked, seq(1, ncol(HN), 2)]
> testSet <- HN[picked, seq(2, 6, 2)]
> 
> bs <- bankStat(testSet = testSet, bankMatrix = bankMatrix)
[1] "P vals done"
> 
> summary(bs$nu.statistics)
    Cancer.1          Cancer.2          Cancer.3       
 Min.   :-7.7013   Min.   :-6.3847   Min.   :-6.60423  
 1st Qu.:-0.5759   1st Qu.:-0.5890   1st Qu.:-0.63814  
 Median : 0.3333   Median : 0.3041   Median :-0.11273  
 Mean   : 0.1719   Mean   : 0.2159   Mean   : 0.02416  
 3rd Qu.: 0.9990   3rd Qu.: 1.0504   3rd Qu.: 0.51641  
 Max.   :13.0513   Max.   :10.6148   Max.   :11.94726  
> summary(bs$p.values)
       V1               V2               V3        
 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.3140   1st Qu.:0.3101   1st Qu.:0.2958  
 Median :0.6081   Median :0.5987   Median :0.4610  
 Mean   :0.5512   Mean   :0.5537   Mean   :0.4858  
 3rd Qu.:0.7967   3rd Qu.:0.8086   3rd Qu.:0.6654  
 Max.   :1.0000   Max.   :1.0000   Max.   :1.0000  
> 
> bankObj <- createBank(bankMatrix)
> summary(bankObj$rowStats)
      mean              SD              sdEst       
 Min.   : 3.988   Min.   :0.04772   Min.   :0.1062  
 1st Qu.: 5.273   1st Qu.:0.18920   1st Qu.:0.2814  
 Median : 6.573   Median :0.26679   Median :0.3600  
 Mean   : 6.682   Mean   :0.33845   Mean   :0.3378  
 3rd Qu.: 7.768   3rd Qu.:0.41539   3rd Qu.:0.3909  
 Max.   :13.369   Max.   :2.13707   Max.   :0.6071  
> dim(bankObj$background)
[1] 2000   22
> mean(bankObj$background)
[1] 0.004650279
> range(bankObj$background)
[1] -8.092244 14.276889
> 
> bs2 <- bankStat(bankObj, testSet)
[1] "P vals done"
> all(bs$nu.statistics == bs2$nu.statistics)
[1] TRUE
> 
> proc.time()
   user  system elapsed 
   6.06    0.20    6.27 
